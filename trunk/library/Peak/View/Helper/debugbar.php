<?php

/**
 * Graphic version of View_Debug_Bar
 *
 * @author  Francois Lajoie
 * @version $Id$
 * @uses    jQuery, Fugue icons, Peak_View_Helper_Debug, Peak_Chrono  
 */
class View_Helper_Debugbar extends Peak_View_Helper_Debug 
{
	
	/**
	 * Display a bottom bar in your page
	 */
	public function show()
	{
		//css
		echo '<style type="text/css"><!--#pkdebugbar{position:fixed;bottom:0;left:0;background:#eee;height:25px;color:#111;margin:0;padding:0;border-top:1px solid #bbb;font:11px "Consolas","Lucida Grande";z-index:255}#pkdebugbar .pkdbpanel{}#pkdebugbar ul{list-style-type:none;padding:0;margin:0}#pkdebugbar ul li{float:left;background-image:-moz-linear-gradient(100% 100% 90deg,#ddd,#eee)!important;background-image:-webkit-gradient(linear,left bottom,left top,from(#ddd),to(#eee))!important;background-image:url(images/linear_bg_1.png)}#pkdebugbar li a{display:block;line-height:25px;padding:0 15px;margin:0;border-right:1px solid #bbb;text-decoration:none;color:#444;background-position:8px 5px;background-repeat:no-repeat;-moz-box-shadow:0px 0px 5px #A3A3A3;-webkit-box-shadow:0px 0px 5px #A3A3A3;box-shadow:0px 0px 5px #A3A3A3;outline-style:none}#pkdebugbar .current{background-color:#ccc}#pkdebugbar a.pkdb_tab{text-decoration:underline;color:#0000EE;cursor:pointer}#pkdebugbar li a.clock{background-image:url("data:image/png;base64,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");padding-left:30px}#pkdebugbar li a.memory{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAP9JREFUeNpi/P//PwMlgImBQjDwBjAylzL3A2l9MvRe/NP1p5CF4Q+DQV5onsOfP3+I1snCwsIwafUkRjAbaADTp0+fGJ5OeAqW+P79OwNDKAMD6wZWnHyFUgUGkD5wGPz/9Z/p86fPDD9+/GBgZ2dn+PbtG8OvX7/w8kHqQfogLvgJdMHnTwyvX78GYxDg+sHF8O31N5x8kHqQPpgBzNJ/GRk+pwowqLJzM9z++RVCp7Lh5IPUg/RBovEHA1O1hinY9DptC6JokHqQPrAL/t/5f2nuiYvSt/fdfjaX/6IUsTRIHzgdgLwIxLxAzExCGvgLxJ+B+egb49DPTAABBgBzz7pPWBsv7QAAAABJRU5ErkJggg==");padding-left:30px}#pkdebugbar li a.files{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfRJREFUeNqMU89LAlEQnn27WiFUl0ASCbp0Cgm6dulWEHXoIF26Vv9Bh4Io6B5C5yDp1K1TUGQQCAqK1wLFyLIfaz9Eaddd++bxVhaxaGAc39uZ7/tmmKcRbHJ+niamp0nTNGq32xwXcD1Kve3CcZw7p9WSucby9nankI3/IyFyvLNzaCPJdl36dhxy8D2Xy9HR+fk6p8FvOd/oQpfM+Dpzmc1SCwAuCm0ARMNhqtfrdLq7e7i0ubmh8m81TwEbmNd+Y27ifF8sUn8gIHMPkskthD3jv8wrc3N0gvNYJEJR+Fkm8yFbcIEM+7Xn8uMjVapVSiSTkqlUKtFqPE4t2xYSgKfJQ3FRJJm5GLFpWT2Zr9Np6hOCbAUguAguBOags+s69RsGDQSDZJqmZH6DitTNDekoJCgMMIBlCTgZkCKBGECoBGIQXC5iP1jJQCjUYWaFnOsp6ABoSgF1gbD5mR0PwLJ0CWB7CuSPKu4CET5mXjgGfDfN4HM+T7IP7sebASf7I8/Ez7yXSFyNTE3tv5bLX03THO8o8NZY9/T4lPiZrUYj+1UoJFR3TfH+8CD7kUOEaz2U+JlrT08VFHJnHGvGXSo1PDY7G1STJPWiSAOjyyD8yHBWzLxNNWb2Hg+v8hD6+RyMxfbpD3MbjRdVWPHf/wgwAAuqSbfOGi3pAAAAAElFTkSuQmCC");padding-left:30px}#pkdebugbar li a.variables{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAhhJREFUeNp8U0FoE0EUfZssG6jpZklabHMIzSXIUiooxZsRrSIoHrwJQkWhVz14qoI9iNd49dJahAoiCIIgGKk3keYSS6mCmhJsRJsWF9vsOJvs+GeT3W6b1A9vZv6bP29n3swqyplrwNnrCEJRLlH7EN1xC0K8DLI3s3CLc1R+f3F/YXF87MiJzPDhuE9Uf/zcXvr46QMNJ8KF7p1TUCeLs5g/eTXMjxzS1HilUgkIXdfj4Hykx64QmXz3BIXHtwHGfIhms4lWqxVA5pIP1cBMzbcFZHO0uozCwrQ/6Tqce4t8yFzy/uJ8bhrm8MKugCfyfQWF5zOAzVzuOHBCkLnkCciPzmBQX9k9ggDOE0oSY7XV0pWlFwk5oWlaAC92Gm7+2AMMGqt7PFDpdFOjFy5mh0wzKYn1zSicp3Pe5PLOt9/WULvQTNeMgeTnkhDB2ruE1yqdLhP/xZMbr5557LkOZDy6vPZVuzlxPJvNUpYzCGnJr9W+bL0vL075AuBkDNnWdUWcKNV1Ua/XYVlWwCcSRpIzZLwjkK9kLANDq0vgLwloodvwQ44563gge27bPXfAiOqjd+Bwx3sPfsic2R0B2buRCKIpo1vA2Wh/zeF7diBz1ugI0AMvr1fLvV4ptsigAfJAURTEYrHQ/6bA3u6MCX2EfkJ03/p+/TTuRVLI9RJ3N1G23oobCv4f6QN4acgfIUTjnwADAEieEgnw+b+gAAAAAElFTkSuQmCC");padding-left:30px}#pkdebugbar li a.hidebar{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAhRJREFUeNqUkz1oU1EUx//v3dfXGNsUUgIOTlVqh1Kh1VqwFe2YSYdszi61OAT8mKxm6GDEQQdpC7oIksVMgUAGv4YIQhEEcSkddGkxxLw0pby8ez3nvNekfqDxwuGee+85v3vOuedamUxmBMAZkkH0PjySd4VCYcPRWs9ks9lbqVRqPAgCtNu+iO+3aW5Da7a3SRzYdh+U6kOtVvu4uvpgmTY3nOSplWdPXnXRFyeqYBCBI0B35v3obLxYLA6wvbO728KVSylxXnmxjXQ63VMO5XLZEkCz2YQBAYwB6zqM+a/DsiyORAB2o/EdhpzYkfX9MCvVbWTznzrrgxKlE0bgeQ1out0YDdZD5y3cffxZbguCY79FYMie6mJLBDs7LXFmKuul119x4/467ixOyXr2cgULufd4XtrE5hdPChq+Vghw9vZ8cdaBBuvX8+t4eHtebsrfnIMis8G4hWTCwtBhCIBHB2CMTQCDgCCs5xbHcHXpJR4tnZf5UL/CyRMJzE0NY2YiiaNHYtQPNvWJHwKUioVFpLBYn59OQi+M4VquKuvK2uRP+XMESqkuwHUHpIia6sA653fh9BAdjaD0Jizqr4P3OoBYLBE9owHr+w7nJuMifwJwzQigOgBuDMpFAK7r/rORuAb1el0Mnda3D2/vPT07ywtOYXT0+HIvrUxRbElXksSjr6z+4ztzXh41VOuHAAMA5Uk+LptmutEAAAAASUVORK5CYII=");padding:0 15px}#pkdebugbar li a.showbar{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAhBJREFUeNqUU01oE0EU/nZ2swRjg4SkzcmDHhTNRYh/h5RactGTPcSzJxG09BAPFhRTerCHgmA9tWc95NKToCCi1EA8GLAIKogXiy3WhjWbTQ2bnfG9aTb9QWj64Nv5dmbnm++9N2sUCoVjAM4TBtB/uIT35XL5uyWlvFAsFidTqVQmCAJ0Or6G73do7EBK/l4QLAgRgWlGUK/XPy0sPHpIk1og7nlexnVdKKXAIgya7wpsj29/XO4aGMoksvNPiTyzKFQ+n+/L94sHK7gxltJ8fnGdnglYdJrBJzP2i2azSd8lAcPQXCfHAmwvtL4TxdnPeFVd7703Gn90KorAXAtQfuJ/mxmV2k/ce7yMl5VV/e66DUglCUpzDmunwMraJqrLG1j68BsfvzrYbAeYvZvDnZklTI9n4Hkt7UBQU5jvEuBKH4lHcPFMGieOD8FtUUfkVu4sMj71WnPZnWy3/S0B3/dF2Kq1X3/JQZ0cbJCDhnbwpDSC26U35OAU7s99IVGpi6iU2BYIHaSTFq6ODmpwDF+vYWK6iqlbJzF6LoGSGSUHAQQJmMR3CTD2RvZ0EldycVw6O6DXbftwr4jMQwEzbOPemJlI6zFci0bjVESl28hcCziOYwsqq23b+14k3mSZJpXA6AkYsVjsJgkc7ecqZ699mwy5s1p5V3s+ljOIH+r+yuYBfmfOyaXr3/onwADytls6qPUh2wAAAABJRU5ErkJggg==");padding:0 15px}#pkdebugbar li a#hideshow{cursor:pointer}#pkdebugbar div.window{display:none;position:absolute;bottom:25px;left:10px;right:10px;width:500px;height:400px;overflow:auto;background:#eee;padding:6px;border:1px solid #aaa}#pkdebugbar div.window h2{margin:10px 0 10px 0;}--></style>';
		//js
		echo '<script type="text/javascript">if(typeof jQuery=="undefined"){var scriptObj=document.createElement("script");scriptObj.src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js";scriptObj.type="text/javascript";var head=document.getElementsByTagName("head")[0];head.insertBefore(scriptObj,head.firstChild);jQuery.noConflict();} function pkdebugShow(id){var target="#"+id+"_window";var id="#"+id;if(jQuery(id).hasClass("current")){jQuery(id).removeClass("current");if(jQuery.browser.msie)jQuery(target).hide();else jQuery(target).slideUp();}else{pkdebugCloseAll();jQuery(id).addClass("current");if(jQuery.browser.msie)jQuery(target).show();else jQuery(target).slideDown();}} function pkdebugCloseAll(){jQuery("#pkdebugbar .window").hide();jQuery("#pkdebugbar .pkdb_tab").removeClass("current");} function pkdebugToggle(){if(jQuery("#pkdebugbar li a#hideshow").hasClass("hidebar")){pkdebugCloseAll();jQuery("#pkdebugbar li a").hide();jQuery("#pkdebugbar li a#hideshow").show().removeClass("hidebar").addClass("showbar");}else{jQuery("#pkdebugbar li a").show();jQuery("#pkdebugbar li a#hideshow").removeClass("showbar").addClass("hidebar");}}</script>';
		
		//files included				
		$files = $this->getFiles();		
		$files_count = count($files['app']) + count($files['peak']);
		
		if(Peak_Chrono::is_on()) $chrono = Peak_Chrono::get_result(4) * 100;
		else $chrono = 'n/a';
		
		//debug bar html
		echo '<div id="pkdebugbar">
              <div class="pkdbpanel">
               <ul>
                <li><a class="">PK '._VERSION_.'/'.phpversion().'</a></li>
                <li><a class="clock">'.$chrono.' ms</a></li>
                <li><a class="memory">'.$this->getMemoryUsage().'</a></li>
                <li><a class="files pkdb_tab" id="pkdb_include" onclick="pkdebugShow(\'pkdb_include\');">'.$files_count.' files</a></li>
                <li><a class="variables pkdb_tab" id="pkdb_vars" onclick="pkdebugShow(\'pkdb_vars\');">Variables</a></li>
                <li><a id="hideshow" class="hidebar" title="show/hide" onclick="pkdebugToggle();">&nbsp;</a></li>
               </ul>';
 

		//files included		
        echo '<div class="window" id="pkdb_include_window">';
        echo '<h2>Files information</h2>
              '.$files_count.' Files included<br />Total size: '.round($files['total_size'] / 1024,2).' Kbs<br />';
        echo '<h2>'.count($files['app']).' Application files:</h2>';
        foreach($files['app'] as $appfile) echo $appfile.'<br />';
        echo '<h2>'.count($files['peak']).' Library files:</h2>';
        foreach($files['peak'] as $libfile) echo str_replace(LIBRARY_ABSPATH, '', $libfile).'<br />';
        echo '</div>';

        //variables
        echo '<div class="window" id="pkdb_vars_window">
              <h2>$_COOKIE</h2><pre>'.print_r($_COOKIE,true).'</pre>
              <h2>$_SESSION</h2><pre>'.print_r($_SESSION,true).'</pre>
              <h2>View vars</h2><pre>'.print_r($this->view->getVars(),true).'</pre>
              </div>';
        
        echo '</div><!-- /pkdbpanel --></div><!-- /pkdebugbar -->';
	}
	
	
}